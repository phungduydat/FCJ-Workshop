[{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/2-prerequiste/2.1.1-createec2/","title":" HÆ°á»›ng Dáº«n Táº¡o EC2 Instance Default TrÃªn AWS","tags":[],"description":"","content":"  ğŸ–¥ï¸ HÆ°á»›ng Dáº«n Táº¡o EC2 Instance Default TrÃªn AWS ğŸ“Œ Má»¥c TiÃªu Táº¡o má»™t EC2 instance sá»­ dá»¥ng cáº¥u hÃ¬nh máº·c Ä‘á»‹nh Ä‘á»ƒ triá»ƒn khai á»©ng dá»¥ng hoáº·c kiá»ƒm thá»­ mÃ´i trÆ°á»ng.\nğŸ§° YÃªu Cáº§u TrÆ°á»›c Khi Báº¯t Äáº§u  TÃ i khoáº£n AWS há»£p lá»‡ ÄÄƒng nháº­p AWS Console hoáº·c cÃ i sáºµn AWS CLI Táº¡o key pair Ä‘á»ƒ SSH (náº¿u cáº§n)  ğŸ› ï¸ CÃ¡c BÆ°á»›c Thá»±c Hiá»‡n 1. ÄÄƒng Nháº­p AWS Console Truy cáº­p: https://console.aws.amazon.com/ec2/\n2. Táº¡o EC2 Instance CÃ¡ch 1: Qua AWS Console  VÃ o EC2 Dashboard Nháº¥n Launch Instance Nháº­p tÃªn: MyEC2Default Chá»n AMI: Amazon Linux 2023 (hoáº·c Amazon Linux 2) Loáº¡i Instance: t2.micro (Free tier) Key pair: Chá»n hoáº·c táº¡o má»›i Network Settings:  Allow SSH (port 22) Allow HTTP (port 80) náº¿u cáº§n   á»” Ä‘Ä©a: Máº·c Ä‘á»‹nh 8 GB (gp2) Nháº¥n Launch Instance   CÃ¡ch 2: DÃ¹ng AWS CLI aws ec2 run-instances --image-id ami-0c02fb55956c7d316 \\ # Amazon Linux 2 (us-east-1) --instance-type t2.micro --key-name my-key --security-groups default --tag-specifications \u0026#39;ResourceType=instance,Tags=[{Key=Name,Value=MyEC2Default}]\u0026#39;  ğŸ“ Ghi chÃº: Thay ami-xxxx vÃ  my-key báº±ng ID vÃ  key pair tÆ°Æ¡ng á»©ng trong region cá»§a báº¡n.\n 3. Káº¿t Ná»‘i EC2 Báº±ng SSH ssh -i my-key.pem ec2-user@\u0026lt;public-ip\u0026gt; âœ… Káº¿t Quáº£  EC2 instance Ä‘Æ°á»£c táº¡o vÃ  cháº¡y trong vÃ i phÃºt. CÃ³ thá»ƒ SSH Ä‘á»ƒ cÃ i Ä‘áº·t thÃªm hoáº·c triá»ƒn khai á»©ng dá»¥ng.   ğŸ§¹ Máº¹o Quáº£n LÃ½  Táº¯t hoáº·c terminate instance sau khi dÃ¹ng Ä‘á»ƒ trÃ¡nh máº¥t phÃ­. Gáº¯n Elastic IP náº¿u muá»‘n giá»¯ IP cá»‘ Ä‘á»‹nh.  ğŸ“š TÃ i Liá»‡u Tham Kháº£o  EC2 User Guide Amazon Linux AMI  "},{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/1-introduce/","title":"GiÆ¡Ìi thiÃªÌ£u","tags":[],"description":"","content":"Trong bá»‘i cáº£nh váº­n hÃ nh há»‡ thá»‘ng hiá»‡n Ä‘áº¡i â€“ nÆ¡i tá»‘c Ä‘á»™ triá»ƒn khai nhanh, kháº£ nÄƒng phá»¥c há»“i cao vÃ  tÃ­nh sáºµn sÃ ng 24/7 lÃ  yáº¿u tá»‘ báº¯t buá»™c â€“ viá»‡c chá»‰ giÃ¡m sÃ¡t thá»§ cÃ´ng hay gá»­i cáº£nh bÃ¡o cÆ¡ báº£n Ä‘Ã£ khÃ´ng cÃ²n Ä‘á»§.\nCÃ¡c há»‡ thá»‘ng ngÃ y nay cáº§n má»™t giáº£i phÃ¡p giÃ¡m sÃ¡t thÃ´ng minh, cÃ³ kháº£ nÄƒng:\n PhÃ¡t hiá»‡n sá»›m báº¥t thÆ°á»ng Pháº£n á»©ng tá»± Ä‘á»™ng Há»— trá»£ quy trÃ¬nh leo thang khi sá»± cá»‘ vÆ°á»£t quÃ¡ má»©c cho phÃ©p   ğŸ•µï¸â€â™‚ï¸ Continuous Monitoring lÃ  gÃ¬? Continuous Monitoring (giÃ¡m sÃ¡t liÃªn tá»¥c) lÃ  quÃ¡ trÃ¬nh thu tháº­p, phÃ¢n tÃ­ch vÃ  theo dÃµi dá»¯ liá»‡u tá»« cÃ¡c há»‡ thá»‘ng, á»©ng dá»¥ng vÃ  háº¡ táº§ng má»™t cÃ¡ch tá»± Ä‘á»™ng, liÃªn tá»¥c vÃ  theo thá»i gian thá»±c nháº±m Ä‘áº£m báº£o:\n Há»‡ thá»‘ng luÃ´n sáºµn sÃ ng vÃ  á»•n Ä‘á»‹nh PhÃ¡t hiá»‡n sá»± cá»‘ nhanh chÃ³ng Cung cáº¥p thÃ´ng tin ká»‹p thá»i cho pháº£n há»“i hoáº·c xá»­ lÃ½ tá»± Ä‘á»™ng  Trong DevOps, Continuous Monitoring giÃºp nhÃ³m váº­n hÃ nh:\n Theo dÃµi hiá»‡u suáº¥t á»©ng dá»¥ng sau khi triá»ƒn khai (post-deployment) PhÃ¢n tÃ­ch hÃ nh vi báº¥t thÆ°á»ng hoáº·c lá»—i (anomaly detection) Cáº£i thiá»‡n thá»i gian pháº£n há»“i (MTTR â€“ Mean Time To Resolution)   ğŸš¨ Alerting lÃ  gÃ¬? Alerting (cáº£nh bÃ¡o) lÃ  quy trÃ¬nh táº¡o ra cÃ¡c thÃ´ng bÃ¡o tá»± Ä‘á»™ng khi cÃ³ sá»± kiá»‡n báº¥t thÆ°á»ng hoáº·c vÆ°á»£t ngÆ°á»¡ng trong há»‡ thá»‘ng.\nMá»™t há»‡ thá»‘ng alerting hiá»‡u quáº£ sáº½:\n Theo dÃµi metrics hoáº·c logs Gá»­i cáº£nh bÃ¡o qua email, Slack, SMS, SNS, PagerDuty hoáº·c cÃ¡c cÃ´ng cá»¥ khÃ¡c KÃ­ch hoáº¡t pháº£n há»“i tá»± Ä‘á»™ng hoáº·c thÃ´ng bÃ¡o Ä‘áº¿n Ä‘á»™i ngÅ© ká»¹ thuáº­t  YÃªu cáº§u cá»§a há»‡ thá»‘ng cáº£nh bÃ¡o hiá»‡u quáº£:\n ChÃ­nh xÃ¡c: trÃ¡nh cáº£nh bÃ¡o sai (false positive) Ká»‹p thá»i: pháº£n á»©ng ngay khi phÃ¡t hiá»‡n sá»± cá»‘ CÃ³ ngá»¯ cáº£nh: Ä‘áº§y Ä‘á»§ thÃ´ng tin giÃºp Ä‘iá»u tra nguyÃªn nhÃ¢n CÃ³ quy trÃ¬nh leo thang (escalation) rÃµ rÃ ng theo má»©c Ä‘á»™ nghiÃªm trá»ng  ğŸ¯ Má»¥c tiÃªu Workshop Workshop nÃ y sáº½ trang bá»‹ cho báº¡n nhá»¯ng kiáº¿n thá»©c vÃ  ká»¹ nÄƒng cáº§n thiáº¿t Ä‘á»ƒ triá»ƒn khai há»‡ thá»‘ng giÃ¡m sÃ¡t thÃ´ng minh cho mÃ´i trÆ°á»ng DevOps:\n âœ… Implement Intelligent Monitoring \u0026amp; Alerting System cho DevOps Processes Tá»« viá»‡c thu tháº­p metrics, logs, traces Ä‘áº¿n thiáº¿t láº­p cáº£nh bÃ¡o vÃ  pháº£n há»“i, báº¡n sáº½ xÃ¢y dá»±ng má»™t há»‡ thá»‘ng giÃºp Ä‘á»™i ngÅ© DevOps:\n Chá»§ Ä‘á»™ng phÃ¡t hiá»‡n váº¥n Ä‘á» Giáº£m thá»i gian pháº£n há»“i (MTTR) Cáº£i thiá»‡n Ä‘á»™ tin cáº­y vÃ  tÃ­nh kháº£ dá»¥ng cá»§a há»‡ thá»‘ng   âœ… Anomaly Detection TÃ­ch há»£p cÃ¡c thuáº­t toÃ¡n vÃ  cÃ´ng cá»¥ phÃ¡t hiá»‡n báº¥t thÆ°á»ng Ä‘á»ƒ:\n Sá»›m nháº­n biáº¿t cÃ¡c hÃ nh vi láº¡ hoáº·c báº¥t thÆ°á»ng trong há»‡ thá»‘ng NgÄƒn cháº·n sá»± cá»‘ trÆ°á»›c khi chÃºng trá»Ÿ nÃªn nghiÃªm trá»ng   âœ… Automated Response Thiáº¿t láº­p cÃ¡c pháº£n há»“i tá»± Ä‘á»™ng giÃºp há»‡ thá»‘ng:\n Tá»± phá»¥c há»“i (auto-healing) khi gáº·p lá»—i Tá»± Ä‘iá»u chá»‰nh (auto-scaling) khi táº£i tÄƒng Giáº£m thiá»ƒu tá»‘i Ä‘a sá»± can thiá»‡p thá»§ cÃ´ng   âœ… Escalation Procedures XÃ¢y dá»±ng quy trÃ¬nh cáº£nh bÃ¡o theo cáº¥p giÃºp:\n Äáº£m báº£o Ä‘Ãºng ngÆ°á»i nháº­n cáº£nh bÃ¡o Ä‘Ãºng lÃºc TrÃ¡nh \u0026ldquo;alert fatigue\u0026rdquo; (má»‡t má»i vÃ¬ cáº£nh bÃ¡o) TÄƒng hiá»‡u quáº£ trong quáº£n lÃ½ sá»± cá»‘   ğŸ›  Ná»™i dung Workshop ğŸ“š Ná»™i dung Workshop  Monitoring Implementation Anomaly Detection Automated Response Escalation Procedures Dashboard Development Alert Tuning Operational Procedures Performance Optimization   ğŸ§  Má»¥c tiÃªu cuá»‘i cÃ¹ng: GiÃºp báº¡n triá»ƒn khai má»™t há»‡ thá»‘ng giÃ¡m sÃ¡t thÃ´ng minh, tá»± Ä‘á»™ng, sáºµn sÃ ng cho mÃ´i trÆ°á»ng sáº£n xuáº¥t tháº­t.\n "},{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/","title":"Quáº£n lÃ½ PhiÃªn LÃ m Viá»‡c (Session Management)","tags":[],"description":"","content":"LÃ m viá»‡c vá»›i Amazon Systems Manager - Session Manager Tá»•ng quan Amazon Systems Manager â€“ Session Manager lÃ  má»™t dá»‹ch vá»¥ Ä‘Æ°á»£c AWS quáº£n lÃ½ toÃ n pháº§n, cho phÃ©p truy cáº­p shell hoáº·c CLI an toÃ n, cÃ³ kháº£ nÄƒng ghi láº¡i vÃ  theo dÃµi, trá»±c tiáº¿p tá»« trÃ¬nh duyá»‡t Ä‘áº¿n cÃ¡c phiÃªn báº£n Amazon EC2 vÃ  cÃ¡c tÃ i nguyÃªn AWS khÃ¡c mÃ  khÃ´ng cáº§n má»Ÿ cá»•ng inbound (nhÆ° SSH hoáº·c RDP).\nTrong bÃ i lab nÃ y, báº¡n sáº½:\n TÃ¬m hiá»ƒu cÃ¡c khÃ¡i niá»‡m cá»‘t lÃµi cá»§a Session Manager vÃ  vai trÃ² cá»§a nÃ³ trong quáº£n trá»‹ há»‡ thá»‘ng an toÃ n. Thá»±c hÃ nh káº¿t ná»‘i tá»›i cÃ¡c EC2 instance public vÃ  private trong VPC mÃ  khÃ´ng cáº§n sá»­ dá»¥ng bastion host. KhÃ¡m phÃ¡ cÃ¡c tÃ­nh nÄƒng ghi log vÃ  kiá»ƒm toÃ¡n tÃ­ch há»£p vá»›i AWS CloudTrail vÃ  Amazon S3 Ä‘á»ƒ Ä‘áº£m báº£o tuÃ¢n thá»§. Hiá»ƒu cÃ¡ch Session Manager giÃºp cáº£i thiá»‡n báº£o máº­t báº±ng cÃ¡ch loáº¡i bá» káº¿t ná»‘i inbound trá»±c tiáº¿p vÃ  táº­p trung hÃ³a kiá»ƒm soÃ¡t truy cáº­p.  BÃ i thá»±c hÃ nh nÃ y sáº½ giÃºp cÃ¡c nhÃ³m DevOps giáº£m thiá»ƒu rá»§i ro váº­n hÃ nh, Ä‘Æ¡n giáº£n hÃ³a viá»‡c quáº£n lÃ½ truy cáº­p háº¡ táº§ng, vÃ  nÃ¢ng cao kháº£ nÄƒng giÃ¡m sÃ¡t báº£o máº­t tá»•ng thá»ƒ.\nNá»™i dung  Giá»›i thiá»‡u YÃªu cáº§u chuáº©n bá»‹ Triá»ƒn khai GiÃ¡m sÃ¡t PhÃ¡t hiá»‡n Báº¥t thÆ°á»ng Pháº£n há»“i Tá»± Ä‘á»™ng Quy trÃ¬nh Leo thang Sá»± cá»‘ PhÃ¡t triá»ƒn Dashboard Quy trÃ¬nh Váº­n hÃ nh  Dá»n dáº¹p TÃ i nguyÃªn  "},{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/2-prerequiste/2.1.4-createvpc/","title":" Chuáº©n Bá»‹ MÃ´i TrÆ°á»ng Táº¡o Docker Image Cho Dá»± Ãn Spring Boot","tags":[],"description":"","content":"  ğŸ”§ 1. CÃ i Äáº·t Java (OpenJDK 21) Äá»ƒ cháº¡y Ä‘Æ°á»£c á»©ng dá»¥ng Spring Boot vÃ  build ra file .jar, báº¡n cáº§n Java JDK 21.\n# Cáº­p nháº­t danh sÃ¡ch gÃ³i pháº§n má»m vÃ  nÃ¢ng cáº¥p há»‡ thá»‘ng sudo yum update -y # CÃ i Ä‘áº·t Java OpenJDK 21 sudo amazon-linux-extras enable corretto8 sudo yum install -y java-21-amazon-corretto-devel # Kiá»ƒm tra phiÃªn báº£n Ä‘Ã£ cÃ i Ä‘áº·t java -version  ğŸ”§ 2. CÃ i Äáº·t Maven ğŸ“¥ Táº£i Maven Táº£i xuá»‘ng tá»‡p nhá»‹ phÃ¢n Maven má»›i nháº¥t (phiÃªn báº£n 3.9.11 tÃ­nh Ä‘áº¿n thÃ¡ng 7/2025):\nsudo yum install java-11-amazon-corretto-devel wget https://archive.apache.org/dist/maven/maven-3/3.9.1/binaries/apache-maven-3.9.1-bin.tar.gz ğŸ“¦ Giáº£i NÃ©n Maven tar xzvf apache-maven-3.9.1-bin.tar.gz sudo mv apache-maven-3.9.1 /opt/ âš™ï¸ Cáº¥u HÃ¬nh Biáº¿n MÃ´i TrÆ°á»ng echo \u0026#39;export M2_HOME=/opt/apache-maven-3.9.1\u0026#39; \u0026gt;\u0026gt; ~/.bashrc echo \u0026#39;export PATH=$PATH:$M2_HOME/bin\u0026#39; \u0026gt;\u0026gt; ~/.bashrc source ~/.bashrc âœ… Kiá»ƒm Tra Maven mvn -version  ğŸ³ 3. CÃ i Äáº·t Docker ğŸ§¹ Gá»¡ Docker CÅ© (náº¿u cÃ³) sudo dnf remove -y docker docker-client docker-client-latest docker-common docker-latest docker-latest-logrotate docker-logrotate docker-engine ğŸ“¦ CÃ i GÃ³i Phá»¥ Thuá»™c sudo dnf install -y dnf-plugins-core device-mapper-persistent-data lvm2 ğŸ—‚ï¸ ThÃªm Kho Docker CE sudo dnf config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo sudo sed -i \u0026#39;s/$releasever/41/g\u0026#39; /etc/yum.repos.d/docker-ce.repo ğŸ³ CÃ i Docker 28.1.1 sudo dnf install -y docker-ce-28.1.1 docker-ce-cli-28.1.1 containerd.io docker-buildx-plugin docker-compose-plugin Náº¿u khÃ´ng tháº¥y phiÃªn báº£n 28.1.1:\ndnf list --showduplicates docker-ce ğŸš€ Khá»Ÿi Äá»™ng Docker sudo systemctl start docker sudo systemctl enable docker  ğŸ§± 4. CÃ i Äáº·t Docker Compose sudo curl -L \u0026#34;https://github.com/docker/compose/releases/download/v2.27.0/docker-compose-$(uname -s)-$(uname -m)\u0026#34; -o /usr/local/bin/docker-compose sudo chmod +x /usr/local/bin/docker-compose docker-compose --version ğŸ“† 5. CÃ i Äáº·t Git \u0026amp; Clone Dá»± Ãn sudo yum install -y git git clone https://github.com/phungduydat/webenglish.git cd webenglish  ğŸš° 6. Build Spring Boot (Bá» Qua Test) mvn clean package -DskipTests File jar sáº½ náº±m trong thÆ° má»¥c target/.\n ğŸ“„ 7. Táº¡o File Dockerfile FROMopenjdk:21-jdkARG JAR_FILE=target/*.jarCOPY ${JAR_FILE} app.jarENTRYPOINT [\u0026#34;java\u0026#34;,\u0026#34;-jar\u0026#34;,\u0026#34;/app.jar\u0026#34;] ğŸ§© 8. Táº¡o File docker-compose.yml services: mysql: image: mysql:8.0 container_name: mysql restart: always environment: MYSQL_ROOT_PASSWORD: 123456 MYSQL_DATABASE: webenglish ports: - \u0026#34;3306:3306\u0026#34; volumes: - mysql_data:/var/lib/mysql app: build: . container_name: webenglish-app ports: - \u0026#34;8080:8090\u0026#34; depends_on: - mysql environment: SPRING_DATASOURCE_URL: jdbc:mysql://mysql:3306/webenglish SPRING_DATASOURCE_USERNAME: root SPRING_DATASOURCE_PASSWORD: 123456 volumes: - ./src/main/resources:/app/resources volumes: mysql_data:  âš™ï¸ 9. Cáº¥u HÃ¬nh application.properties spring.datasource.url=${SPRING_DATASOURCE_URL}\rspring.datasource.username=${SPRING_DATASOURCE_USERNAME}\rspring.datasource.password=${SPRING_DATASOURCE_PASSWORD}\r ğŸ§ª 10. Build \u0026amp; Run Docker Compose docker compose up --build Kiá»ƒm tra:\ndocker ps docker compose logs  TÃ¡c giáº£: PhÃ¹ng Duy Äáº¡t\nGitHub: https://github.com/phungduydat/webenglish\n"},{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/2-prerequiste/","title":"CaÌc bÆ°Æ¡Ìc ChuÃ¢Ì‰n biÌ£ MÃ´i trÆ°Æ¡Ì€ng AWS","tags":[],"description":"","content":"\rÄá»ƒ triá»ƒn khai á»©ng dá»¥ng container hoÌa lÃªn AWS, báº¡n cáº§n thiáº¿t láº­p má»™t mÃ´i trÆ°á»ng bao gá»“m EC2 Ä‘á»ƒ cháº¡y Docker, liÃªn káº¿t vá»›i Amazon ECR Ä‘á»ƒ lÆ°u trá»¯ image, vÃ  sá»­ dá»¥ng AWS CDK Ä‘á»ƒ tá»± Ä‘á»™ng hoÌa quy trÃ¬nh triá»ƒn khai. Cuá»‘i cÃ¹ng, báº¡n cÃ³ thá»ƒ kiá»ƒm tra á»©ng dá»¥ng trá»±c tiáº¿p trÃªn trÃ¬nh duyá»‡t.\n\r ğŸ’¡ Náº¿u báº¡n chÆ°a quen vá»›i cÃ¡c dá»‹ch vá»¥ trong hÆ°á»›ng dáº«n nÃ y, hÃ£y xem thÃªm:\n  Giá»›i thiá»‡u vá» Amazon EC2 Tá»•ng quan vá» Amazon Elastic Container Registry (ECR) AWS Cloud Development Kit (CDK)   ğŸš€ NÃ´Ì£i dung ThÆ°Ì£c hiÃªÌ£n Trong pháº§n nÃ y, báº¡n sáº½ tá»«ng bÆ°á»›c xÃ¢y dá»±ng mÃ´i trÆ°á»ng triá»ƒn khai hoÃ n chá»‰nh:\n  KhÆ¡Ì‰i taÌ£o EC2 vaÌ€ caÌ€i Ä‘ÄƒÌ£t Docker\nâ†’ Táº¡o instance EC2, thiáº¿t láº­p mÃ´i trÆ°á»ng cáº§n thiáº¿t Ä‘á»ƒ cháº¡y container.\n  Build image vaÌ€ Ä‘Æ°a lÃªn Amazon ECR\nâ†’ ÄÄƒng nháº­p ECR, build Docker image vÃ  Ä‘áº©y lÃªn registry an toÃ n.\n  TriÃªÌ‰n khai dÆ°Ì£ aÌn bÄƒÌ€ng AWS CDK\nâ†’ Viáº¿t mÃ£ háº¡ táº§ng dÆ°á»›i dáº¡ng code (IaC) Ä‘á»ƒ tá»± Ä‘á»™ng hoÌa triá»ƒn khai.\n  Truy cÃ¢Ì£p Æ°Ìng duÌ£ng tÆ°Ì€ triÌ€nh duyÃªÌ£t\nâ†’ Kiá»ƒm tra káº¿t quáº£ triá»ƒn khai qua giao diá»‡n web.\n   ğŸ‘‰ Sau khi hoÃ n thÃ nh cÃ¡c bÆ°á»›c nÃ y, báº¡n sáº½ cÃ³ má»™t mÃ´i trÆ°á»ng sáºµn sÃ ng Ä‘á»ƒ phÃ¡t triá»ƒn, triá»ƒn khai vÃ  kiá»ƒm thá»­ á»©ng dá»¥ng container hoÌa trÃªn ná»n táº£ng AWS.\n"},{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/2-prerequiste/2.1.2-createpublicsubnet/","title":"Deploying a Docker Image to AWS ECR on Linux ","tags":[],"description":"","content":"ğŸ¯ Má»¥c TiÃªu HÆ°á»›ng dáº«n cÃ i Ä‘áº·t AWS CLI, cáº¥u hÃ¬nh tÃ i khoáº£n AWS, táº¡o repository trÃªn Amazon ECR, vÃ  Ä‘áº©y Docker image tá»« mÃ¡y local (bao gá»“m cáº£ image MySQL) lÃªn ECR.\n ğŸ§° 1. CÃ i Äáº·t AWS CLI TrÃªn Linux Cháº¡y cÃ¡c lá»‡nh sau Ä‘á»ƒ cÃ i Ä‘áº·t AWS CLI v2:\n# Táº£i AWS CLI v2 curl \u0026#34;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\u0026#34; -o \u0026#34;awscliv2.zip\u0026#34; # Giáº£i nÃ©n unzip awscliv2.zip # CÃ i Ä‘áº·t sudo ./aws/install # Kiá»ƒm tra phiÃªn báº£n aws --version  âš™ï¸ 2. Cáº¥u HÃ¬nh AWS CLI Sau khi cÃ i Ä‘áº·t, cháº¡y lá»‡nh sau Ä‘á»ƒ cáº¥u hÃ¬nh thÃ´ng tin tÃ i khoáº£n:\naws configure Nháº­p cÃ¡c thÃ´ng tin:\n AWS Access Key ID: tá»« IAM user AWS Secret Access Key: tá»« IAM user Default region name: ap-northeast-1 (hoáº·c vÃ¹ng báº¡n sá»­ dá»¥ng) Default output format: json   ğŸ“¦ 3. Táº¡o ECR Repository TrÃªn AWS Console  Truy cáº­p: https://console.aws.amazon.com/ecr Chá»n Repositories â†’ Create repository Nháº­p tÃªn repository: webenglish Chá»n Private, giá»¯ thiáº¿t láº­p máº·c Ä‘á»‹nh Nháº¥n Create repository  Báº¡n sáº½ nháº­n Ä‘Æ°á»£c URI nhÆ° sau:\n466322313916.dkr.ecr.ap-northeast-1.amazonaws.com/webenglish\r ğŸ— 4. XÃ¢y Dá»±ng Docker Image á»¨ng Dá»¥ng Di chuyá»ƒn Ä‘áº¿n thÆ° má»¥c cÃ³ Dockerfile vÃ  build image:\ndocker build -t webenglish-app .  ğŸ” 5. ÄÄƒng Nháº­p VÃ o Amazon ECR TrÆ°á»›c khi push, báº¡n cáº§n Ä‘Äƒng nháº­p vÃ o ECR:\naws ecr get-login-password --region ap-northeast-1 | \\ docker login --username AWS \\ --password-stdin 466322313916.dkr.ecr.ap-northeast-1.amazonaws.com  ğŸ· 6. Tag Docker Image Vá»›i ECR URI docker tag webenglish-app:latest \\ 466322313916.dkr.ecr.ap-northeast-1.amazonaws.com/webenglish:webenglish-app  ğŸš€ 7. Push Docker Image LÃªn ECR docker push \\ 466322313916.dkr.ecr.ap-northeast-1.amazonaws.com/webenglish:webenglish-app  ğŸ¬ 8. Äáº©y Image MySQL 8.0 LÃªn ECR (Tuá»³ chá»n) Náº¿u báº¡n Ä‘Ã£ pull/build image MySQL 8.0 vÃ  image ID lÃ  7d4e34ccfad4, báº¡n cÃ³ thá»ƒ tag vÃ  push nhÆ° sau:\nâœ… Gáº¯n tag MySQL image docker tag 7d4e34ccfad4 \\ 466322313916.dkr.ecr.ap-northeast-1.amazonaws.com/webenglish:mysql-8.0 ğŸ“Œ LÆ°u Ã½: Báº¡n cÃ³ thá»ƒ thay mysql-8.0 báº±ng latest náº¿u muá»‘n.\nâœ… Push MySQL image lÃªn ECR docker push \\ 466322313916.dkr.ecr.ap-northeast-1.amazonaws.com/webenglish:mysql-8.0 â³ KÃ­ch thÆ°á»›c image MySQL khoáº£ng 772MB â€” quÃ¡ trÃ¬nh push cÃ³ thá»ƒ máº¥t vÃ i phÃºt.\n ğŸ“‹ 9. Kiá»ƒm Tra TrÃªn AWS Console Sau khi push xong:\n Truy cáº­p láº¡i AWS Console â†’ ECR VÃ o repository webenglish XÃ¡c minh Ä‘Ã£ cÃ³ cÃ¡c image vá»›i tag: webenglish-app, mysql-8.0, v.v.   ğŸ“ 10. LÆ°u Ã Bá»• Sung  Docker cáº§n Ä‘Æ°á»£c cÃ i Ä‘áº·t vÃ  cháº¡y: sudo systemctl start docker  TÃ i khoáº£n IAM pháº£i cÃ³ quyá»n:  AmazonEC2ContainerRegistryFullAccess   Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng image tá»« ECR Ä‘á»ƒ triá»ƒn khai container trÃªn:  EC2 ECS EKS     ğŸ“š 11. TÃ i Liá»‡u Tham Kháº£o  AWS CLI Install Guide Amazon ECR Documentation Docker CLI Docs   "},{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/3-monitoring/","title":"Triá»ƒn khai GiÃ¡m sÃ¡t Há»‡ thá»‘ng","tags":[],"description":"","content":"HÆ°á»›ng Dáº«n Thiáº¿t Láº­p Há»‡ Thá»‘ng GiÃ¡m SÃ¡t Háº¡ Táº§ng WebEnglish trÃªn AWS Linux 2 1. Má»¥c tiÃªu  GiÃ¡m sÃ¡t hiá»‡u suáº¥t EC2 (CPU, RAM, Disk). Thu tháº­p log cá»§a Spring Boot vÃ  MySQL. Gá»­i cáº£nh bÃ¡o qua SNS. Hiá»ƒn thá»‹ dashboard trá»±c quan trÃªn CloudWatch.  CÃ´ng cá»¥ sá»­ dá»¥ng: AWS CloudWatch, CloudWatch Agent, Amazon SNS.\n 2. YÃªu cáº§u chuáº©n bá»‹ EC2 Instance  Amazon Linux 2 ÄÃ£ cÃ i Ä‘áº·t: Docker, Docker Compose, Java, MySQL (trong container hoáº·c cÃ i trá»±c tiáº¿p)  Quyá»n IAM Role cáº§n cÃ³ GÃ¡n IAM role cho EC2 instance vá»›i quyá»n:\n CloudWatchAgentServerPolicy AmazonSSMManagedInstanceCore Quyá»n ghi logs vÃ  metrics vÃ o CloudWatch  Kiá»ƒm tra role Ä‘Ã£ gÃ¡n:\ncurl http://169.254.169.254/latest/meta-data/iam/security-credentials/ CÃ i Ä‘áº·t AWS CLI (náº¿u chÆ°a cÃ³) sudo yum install unzip -y curl \u0026#34;https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\u0026#34; -o \u0026#34;awscliv2.zip\u0026#34; unzip awscliv2.zip sudo ./aws/install aws --version Cáº¥u hÃ¬nh CLI (thay thÃ´ng tin báº±ng tÃ i khoáº£n/region cá»§a báº¡n):\naws configure  3. CÃ i Ä‘áº·t \u0026amp; cáº¥u hÃ¬nh CloudWatch Agent BÆ°á»›c 1: CÃ i Ä‘áº·t Agent cd /tmp curl -O https://s3.amazonaws.com/amazoncloudwatch-agent/amazon_linux/amd64/latest/amazon-cloudwatch-agent.rpm sudo rpm -U ./amazon-cloudwatch-agent.rpm BÆ°á»›c 2: Táº¡o file cáº¥u hÃ¬nh sudo nano /opt/aws/amazon-cloudwatch-agent/etc/amazon-cloudwatch-agent.json DÃ¡n ná»™i dung sau:\n{ \u0026#34;agent\u0026#34;: { \u0026#34;metrics_collection_interval\u0026#34;: 60, \u0026#34;logfile\u0026#34;: \u0026#34;/opt/aws/amazon-cloudwatch-agent/logs/amazon-cloudwatch-agent.log\u0026#34;, \u0026#34;run_as_user\u0026#34;: \u0026#34;root\u0026#34; }, \u0026#34;metrics\u0026#34;: { \u0026#34;namespace\u0026#34;: \u0026#34;WebEnglishMetrics\u0026#34;, \u0026#34;append_dimensions\u0026#34;: { \u0026#34;InstanceId\u0026#34;: \u0026#34;${aws:InstanceId}\u0026#34;, \u0026#34;InstanceType\u0026#34;: \u0026#34;${aws:InstanceType}\u0026#34;, \u0026#34;AutoScalingGroupName\u0026#34;: \u0026#34;${aws:AutoScalingGroupName}\u0026#34; }, \u0026#34;aggregation_dimensions\u0026#34;: [[\u0026#34;InstanceId\u0026#34;]], \u0026#34;metrics_collected\u0026#34;: { \u0026#34;cpu\u0026#34;: { \u0026#34;measurement\u0026#34;: [ \u0026#34;cpu_usage_user\u0026#34;, \u0026#34;cpu_usage_system\u0026#34;, \u0026#34;cpu_usage_idle\u0026#34; ], \u0026#34;metrics_collection_interval\u0026#34;: 60, \u0026#34;totalcpu\u0026#34;: true }, \u0026#34;mem\u0026#34;: { \u0026#34;measurement\u0026#34;: [\u0026#34;mem_used_percent\u0026#34;], \u0026#34;metrics_collection_interval\u0026#34;: 60 }, \u0026#34;disk\u0026#34;: { \u0026#34;measurement\u0026#34;: [\u0026#34;used_percent\u0026#34;], \u0026#34;metrics_collection_interval\u0026#34;: 60, \u0026#34;resources\u0026#34;: [\u0026#34;*\u0026#34;] }, \u0026#34;diskio\u0026#34;: { \u0026#34;measurement\u0026#34;: [\u0026#34;io_time\u0026#34;], \u0026#34;metrics_collection_interval\u0026#34;: 60 }, \u0026#34;swap\u0026#34;: { \u0026#34;measurement\u0026#34;: [\u0026#34;swap_used_percent\u0026#34;], \u0026#34;metrics_collection_interval\u0026#34;: 60 } } } } BÆ°á»›c 3: Khá»Ÿi Ä‘á»™ng Agent sudo /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl \\  -a fetch-config \\  -m ec2 \\  -c file:/opt/aws/amazon-cloudwatch-agent/etc/amazon-cloudwatch-agent.json \\  -s BÆ°á»›c 4: Kiá»ƒm tra tráº¡ng thÃ¡i Agent sudo /opt/aws/amazon-cloudwatch-agent/bin/amazon-cloudwatch-agent-ctl -m ec2 -a status  4. Táº¡o cáº£nh bÃ¡o vá»›i SNS BÆ°á»›c 1: Táº¡o Topic \u0026amp; Ä‘Äƒng kÃ½ email aws sns create-topic \\  --name WebEnglishAlerts \\  --region ap-northeast-1 Sao chÃ©p TopicArn tá»« káº¿t quáº£ lá»‡nh trÃªn.\naws sns subscribe \\  --topic-arn arn:aws:sns:ap-northeast-1:ACCOUNT_ID:WebEnglishAlerts \\  --protocol email \\  --notification-endpoint YOUR_EMAIL@example.com \\  --region ap-northeast-1 ğŸ“§ XÃ¡c nháº­n Ä‘Äƒng kÃ½ qua email trÆ°á»›c khi tiáº¿p tá»¥c.  BÆ°á»›c 2: Táº¡o cáº£nh bÃ¡o CPU aws cloudwatch put-metric-alarm \\  --alarm-name HighCPUUsage \\  --metric-name cpu_usage_user \\  --namespace WebEnglishMetrics \\  --statistic Average \\  --period 300 \\  --threshold 80 \\  --comparison-operator GreaterThanThreshold \\  --evaluation-periods 1 \\  --alarm-actions arn:aws:sns:ap-northeast-1:ACCOUNT_ID:WebEnglishAlerts \\  --region ap-northeast-1  Báº¡n cÅ©ng cÃ³ thá»ƒ gá»­i thá»­ dá»¯ liá»‡u giáº£ lÃªn CloudWatch Ä‘á»ƒ kiá»ƒm tra:\naws cloudwatch put-metric-data \\  --metric-name cpu_usage_active \\  --namespace WebEnglishMetrics \\  --value 90 \r---\r"},{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/2-prerequiste/2.1.3-createprivatesubnet/","title":"Triá»ƒn Khai Dá»± Ãn AWS CDK Káº¿t Ná»‘i ECS, EC2, IAM","tags":[],"description":"","content":"ğŸš€ HÆ°á»›ng Dáº«n Triá»ƒn Khai á»¨ng Dá»¥ng TrÃªn AWS Báº±ng AWS CDK TÃ i liá»‡u nÃ y hÆ°á»›ng dáº«n cÃ¡ch thiáº¿t láº­p vÃ  triá»ƒn khai má»™t á»©ng dá»¥ng Spring Boot sá»­ dá»¥ng AWS CDK vá»›i cÃ¡c dá»‹ch vá»¥ liÃªn quan: ECS, EC2 (VPC), IAM vÃ  CloudWatch Logs. Dá»± Ã¡n sá»­ dá»¥ng AWS Fargate Ä‘á»ƒ cháº¡y container mÃ  khÃ´ng cáº§n quáº£n lÃ½ server.\n âœ… 1. CÃ i Äáº·t MÃ´i TrÆ°á»ng AWS CDK TrÃªn Ubuntu ğŸ”¹ Gá»¡ bá» Node.js/NPM cÅ© (náº¿u cÃ³) sudo yum remove -y nodejs npm sudo yum autoremove -y ğŸ”¹ CÃ i Ä‘áº·t NVM vÃ  Node.js (PhiÃªn báº£n á»•n Ä‘á»‹nh) curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.5/install.sh | bash export NVM_DIR=\u0026#34;$HOME/.nvm\u0026#34; source \u0026#34;$NVM_DIR/nvm.sh\u0026#34; nvm install 22.9.0 nvm use 22.9.0 ğŸ”¹ CÃ i Ä‘áº·t AWS CDK npm install -g aws-cdk Kiá»ƒm tra phiÃªn báº£n:\ncdk --version  âœ… 2. Khá»Ÿi Táº¡o Dá»± Ãn CDK TypeScript mkdir test-cdk \u0026amp;\u0026amp; cd test-cdk cdk init app --language typescript ğŸ”¹ CÃ i thÃªm cÃ¡c thÆ° viá»‡n AWS cáº§n thiáº¿t npm install @aws-cdk/aws-ecs @aws-cdk/aws-ec2 @aws-cdk/aws-ecs-patterns @aws-cdk/aws-rds  âœ… 3. Táº¡o Stack CDK (lib/webenglish-cdk-stack.ts) Táº¡o file lib/webenglish-cdk-stack.ts vá»›i ná»™i dung:\nimport * as cdk from \u0026#39;aws-cdk-lib\u0026#39;; import * as ec2 from \u0026#39;aws-cdk-lib/aws-ec2\u0026#39;; import * as ecs from \u0026#39;aws-cdk-lib/aws-ecs\u0026#39;; import * as iam from \u0026#39;aws-cdk-lib/aws-iam\u0026#39;; import * as logs from \u0026#39;aws-cdk-lib/aws-logs\u0026#39;; import { Construct } from \u0026#39;constructs\u0026#39;; export class TestCdkStack extends cdk.Stack { constructor(scope: Construct, id: string, props?: cdk.StackProps) { super(scope, id, props); // VPC  const vpc = new ec2.Vpc(this, \u0026#39;MyVpc\u0026#39;, { maxAzs: 2, subnetConfiguration: [ { subnetType: ec2.SubnetType.PUBLIC, name: \u0026#39;Public\u0026#39; }, { subnetType: ec2.SubnetType.PRIVATE_WITH_EGRESS, name: \u0026#39;Private\u0026#39; }, ], }); // ECS Cluster  const cluster = new ecs.Cluster(this, \u0026#39;MyCluster\u0026#39;, { vpc }); // IAM Execution Role (existing role)  const executionRole = iam.Role.fromRoleArn( this, \u0026#39;EcsExecutionRole\u0026#39;, \u0026#39;arn:aws:iam::466322313916:role/WebenglishEcsExecutionRole\u0026#39; ); // Log Group  const logGroup = new logs.LogGroup(this, \u0026#39;WebenglishLogGroup\u0026#39;, { retention: logs.RetentionDays.ONE_WEEK, }); // Fargate Task Definition  const taskDefinition = new ecs.FargateTaskDefinition(this, \u0026#39;TaskDef\u0026#39;, { memoryLimitMiB: 2048, cpu: 1024, executionRole, }); // MySQL Container  const mysqlContainer = taskDefinition.addContainer(\u0026#39;MySQLContainer\u0026#39;, { image: ecs.ContainerImage.fromRegistry( \u0026#39;466322313916.dkr.ecr.ap-northeast-1.amazonaws.com/webenglish:mysql-8.0\u0026#39; ), environment: { MYSQL_ROOT_PASSWORD: \u0026#39;123456\u0026#39;, MYSQL_DATABASE: \u0026#39;webenglish\u0026#39;, }, logging: ecs.LogDriver.awsLogs({ logGroup, streamPrefix: \u0026#39;mysql\u0026#39;, }), portMappings: [{ containerPort: 3306 }], essential: true, healthCheck: { command: [\u0026#39;CMD\u0026#39;, \u0026#39;mysqladmin\u0026#39;, \u0026#39;ping\u0026#39;, \u0026#39;-h\u0026#39;, \u0026#39;localhost\u0026#39;], interval: cdk.Duration.seconds(10), timeout: cdk.Duration.seconds(5), retries: 5, startPeriod: cdk.Duration.seconds(20), }, }); // App Container (Spring Boot)  const appContainer = taskDefinition.addContainer(\u0026#39;WebenglishApp\u0026#39;, { image: ecs.ContainerImage.fromRegistry( \u0026#39;466322313916.dkr.ecr.ap-northeast-1.amazonaws.com/webenglish:webenglish-app\u0026#39; ), logging: ecs.LogDriver.awsLogs({ logGroup, streamPrefix: \u0026#39;webenglish-app\u0026#39;, }), portMappings: [{ containerPort: 8080 }], environment: { SPRING_DATASOURCE_URL: \u0026#39;jdbc:mysql://localhost:3306/webenglish\u0026#39;, SPRING_DATASOURCE_USERNAME: \u0026#39;root\u0026#39;, SPRING_DATASOURCE_PASSWORD: \u0026#39;123456\u0026#39;, }, }); // Container Dependency: app waits for MySQL to be healthy  appContainer.addContainerDependencies({ container: mysqlContainer, condition: ecs.ContainerDependencyCondition.HEALTHY, }); // Fargate Service  new ecs.FargateService(this, \u0026#39;WebenglishService\u0026#39;, { cluster, taskDefinition, desiredCount: 1, assignPublicIp: true, }); } }  âœ… 4. Cáº¥u HÃ¬nh AWS CLI ğŸ”¹ ÄÄƒng nháº­p AWS aws configure Nháº­p:\n AWS Access Key ID AWS Secret Access Key Region: ap-northeast-1   âœ… 5. Táº¡o IAM Role Cho ECS Task TrÃªn AWS Console:  VÃ o IAM \u0026gt; Roles Táº¡o role WebenglishEcsExecutionRole GÃ¡n chÃ­nh sÃ¡ch:  AmazonECSTaskExecutionRolePolicy   Ghi láº¡i ARN cá»§a role:\nVÃ­ dá»¥:\narn:aws:iam::466322313916:role/WebenglishEcsExecutionRole   âœ… 6. Bootstrap CDK \u0026amp; Deploy cdk bootstrap aws://466322313916/ap-northeast-1 cdk synth cdk deploy  ğŸ“Œ Ghi ChÃº Bá»• Sung  Báº¡n cáº§n pháº£i táº¡o ECR vÃ  Ä‘áº©y image webenglish:webenglish-app lÃªn trÆ°á»›c Ä‘Ã³. Náº¿u dÃ¹ng database RDS thá»±c sá»±, cáº§n táº¡o má»™t RDS instance vÃ  cáº­p nháº­t SPRING_DATASOURCE_URL.   ğŸ§  Má»Ÿ Rá»™ng Sau NÃ y  TÃ­ch há»£p Load Balancer (ALB) báº±ng ApplicationLoadBalancedFargateService Káº¿t ná»‘i RDS thÃ´ng qua Security Group vÃ  Secrets Manager TÃ­ch há»£p CI/CD: GitHub Actions hoáº·c AWS CodePipeline   ğŸ§¾ TÃ i Liá»‡u Tham Kháº£o  https://docs.aws.amazon.com/cdk/ https://docs.aws.amazon.com/AmazonECS/latest/developerguide/Welcome.html  "},{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/4-anomaly-detection/","title":"Triá»ƒn khai TÃ­nh nÄƒng Cáº£nh BÃ¡o vÃ  Pháº£n Há»“i Tá»± Äá»™ng cho WebEnglish","tags":[],"description":"","content":" ğŸš¨ Triá»ƒn khai Cáº£nh BÃ¡o vÃ  Pháº£n Há»“i Tá»± Äá»™ng vá»›i CloudWatch, SNS vÃ  Lambda TÃ i liá»‡u nÃ y hÆ°á»›ng dáº«n chi tiáº¿t cÃ¡ch tÃ­ch há»£p Amazon CloudWatch, SNS, Lambda, vÃ  (tuá»³ chá»n) DevOps Guru Ä‘á»ƒ phÃ¡t hiá»‡n báº¥t thÆ°á»ng vÃ  tá»± Ä‘á»™ng pháº£n á»©ng trong há»‡ thá»‘ng WebEnglish.\n ğŸ¯ Má»¥c TiÃªu  PhÃ¡t hiá»‡n báº¥t thÆ°á»ng hiá»‡u suáº¥t cá»§a EC2 hoáº·c ECS. Gá»­i cáº£nh bÃ¡o qua email vÃ  kÃ­ch hoáº¡t Lambda Ä‘á»ƒ pháº£n á»©ng. Tá»± Ä‘á»™ng Ä‘iá»u chá»‰nh sá»‘ lÆ°á»£ng task cá»§a dá»‹ch vá»¥ ECS hoáº·c khá»Ÿi Ä‘á»™ng láº¡i.   âœ… 1. Táº¡o CloudWatch Anomaly Detector Táº¡o trÃ¬nh phÃ¡t hiá»‡n báº¥t thÆ°á»ng cho chá»‰ sá»‘ cpu_usage_active trong namespace WebEnglishMetrics.\naws cloudwatch put-anomaly-detector \\ --namespace \u0026#34;WebEnglishMetrics\u0026#34; \\ --metric-name \u0026#34;cpu_usage_active\u0026#34; \\ --stat \u0026#34;Average\u0026#34; \\ --dimensions Name=InstanceId,Value=i-0817b4fd50252b509 \\ --region ap-northeast-1  âœ… 2. Táº¡o SNS Topic vÃ  ÄÄƒng kÃ½ Email Táº¡o má»™t SNS topic Ä‘á»ƒ gá»­i cáº£nh bÃ¡o vÃ  Ä‘Äƒng kÃ½ má»™t email Ä‘á»ƒ nháº­n thÃ´ng bÃ¡o.\naws sns create-topic --name WebEnglishAlerts --region ap-northeast-1 aws sns subscribe \\ --topic-arn arn:aws:sns:ap-northeast-1:\u0026lt;ACCOUNT_ID\u0026gt;:WebEnglishAlerts \\ --protocol email \\ --notification-endpoint your-email@example.com \\ --region ap-northeast-1  ğŸ“© Äá»«ng quÃªn xÃ¡c nháº­n email trong há»™p thÆ° Ä‘áº¿n Ä‘á»ƒ kÃ­ch hoáº¡t subscription.   âœ… 3. Táº¡o CloudWatch Alarm tá»« Anomaly Detector Táº¡o má»™t cáº£nh bÃ¡o Ä‘á»ƒ kÃ­ch hoáº¡t khi chá»‰ sá»‘ cpu_usage_active vÆ°á»£t quÃ¡ ngÆ°á»¡ng báº¥t thÆ°á»ng.\naws cloudwatch put-metric-alarm \\ --alarm-name CPUAnomalyAlarm \\ --evaluation-periods 2 \\ --datapoints-to-alarm 2 \\ --treat-missing-data notBreaching \\ --comparison-operator GreaterThanUpperThreshold \\ --metrics \u0026#39;[ { \u0026#34;Id\u0026#34;: \u0026#34;m1\u0026#34;, \u0026#34;MetricStat\u0026#34;: { \u0026#34;Metric\u0026#34;: { \u0026#34;Namespace\u0026#34;: \u0026#34;WebEnglishMetrics\u0026#34;, \u0026#34;MetricName\u0026#34;: \u0026#34;cpu_usage_active\u0026#34;, \u0026#34;Dimensions\u0026#34;: [ { \u0026#34;Name\u0026#34;: \u0026#34;InstanceId\u0026#34;, \u0026#34;Value\u0026#34;: \u0026#34;i-0817b4fd50252b509\u0026#34; } ] }, \u0026#34;Period\u0026#34;: 60, \u0026#34;Stat\u0026#34;: \u0026#34;Average\u0026#34; }, \u0026#34;ReturnData\u0026#34;: true }, { \u0026#34;Id\u0026#34;: \u0026#34;ad1\u0026#34;, \u0026#34;Expression\u0026#34;: \u0026#34;ANOMALY_DETECTION_BAND(m1, 2)\u0026#34;, \u0026#34;Label\u0026#34;: \u0026#34;AnomalyDetectionBand\u0026#34;, \u0026#34;ReturnData\u0026#34;: true } ]\u0026#39; \\ --threshold-metric-id ad1 \\ --alarm-actions arn:aws:sns:ap-northeast-1:\u0026lt;ACCOUNT_ID\u0026gt;:WebEnglishAlerts \\ --region ap-northeast-1  âœ… 4. Táº¡o Lambda Ä‘á»ƒ Scale ECS A. Táº¡o IAM Role Táº¡o IAM role LambdaScaleECSRole vá»›i chÃ­nh sÃ¡ch tin cáº­y cho Lambda.\naws iam create-role \\ --role-name LambdaScaleECSRole \\ --assume-role-policy-document file://trust-policy.json Ná»™i dung file trust-policy.json:\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [ { \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: \u0026#34;lambda.amazonaws.com\u0026#34; }, \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34; } ] } B. Gáº¯n Policy cáº§n thiáº¿t Gáº¯n cÃ¡c chÃ­nh sÃ¡ch cáº§n thiáº¿t Ä‘á»ƒ Lambda cÃ³ thá»ƒ ghi log vÃ  tÆ°Æ¡ng tÃ¡c vá»›i ECS.\naws iam attach-role-policy \\ --role-name LambdaScaleECSRole \\ --policy-arn arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole aws iam attach-role-policy \\ --role-name LambdaScaleECSRole \\ --policy-arn arn:aws:iam::aws:policy/AmazonECS_FullAccess  âœ… 5. Táº¡o HÃ m Lambda scale_ecs_service.py HÃ m Python nÃ y sáº½ gá»i API cá»§a AWS Ä‘á»ƒ Ä‘iá»u chá»‰nh sá»‘ lÆ°á»£ng task mong muá»‘n cá»§a dá»‹ch vá»¥ ECS.\nimport boto3 def lambda_handler(event, context): ecs = boto3.client(\u0026#39;ecs\u0026#39;) cluster = \u0026#39;MyCluster\u0026#39; service = \u0026#39;WebenglishService\u0026#39; desired_count = 2 try: response = ecs.update_service( cluster=cluster, service=service, desiredCount=desired_count ) print(\u0026#34;Service updated:\u0026#34;, response[\u0026#39;service\u0026#39;][\u0026#39;serviceName\u0026#39;]) return { \u0026#39;statusCode\u0026#39;: 200, \u0026#39;body\u0026#39;: \u0026#39;Scaling executed\u0026#39; } except Exception as e: print(\u0026#34;Error:\u0026#34;, str(e)) return { \u0026#39;statusCode\u0026#39;: 500, \u0026#39;body\u0026#39;: str(e) } NÃ©n file:\nzip function.zip scale_ecs_service.py  âœ… 6. Táº¡o Lambda Function Táº¡o hÃ m Lambda cÃ³ tÃªn ScaleWebEnglish tá»« file nÃ©n vá»«a táº¡o.\naws lambda create-function \\ --function-name ScaleWebEnglish \\ --runtime python3.9 \\ --role arn:aws:iam::\u0026lt;ACCOUNT_ID\u0026gt;:role/LambdaScaleECSRole \\ --handler scale_ecs_service.lambda_handler \\ --zip-file fileb://function.zip \\ --timeout 10 \\ --region ap-northeast-1  âœ… 7. Gáº¯n Lambda vÃ o SNS vÃ  Cáº¥p Quyá»n ÄÄƒng kÃ½ Lambda vÃ o SNS topic Ä‘á»ƒ nÃ³ cÃ³ thá»ƒ Ä‘Æ°á»£c kÃ­ch hoáº¡t khi cÃ³ cáº£nh bÃ¡o.\naws sns subscribe \\ --topic-arn arn:aws:sns:ap-northeast-1:\u0026lt;ACCOUNT_ID\u0026gt;:WebEnglishAlerts \\ --protocol lambda \\ --notification-endpoint arn:aws:lambda:ap-northeast-1:\u0026lt;ACCOUNT_ID\u0026gt;:function:ScaleWebEnglish \\ --region ap-northeast-1 Cáº¥p quyá»n cho SNS gá»i Lambda:\naws lambda add-permission \\ --function-name ScaleWebEnglish \\ --statement-id snsInvokePermission \\ --action lambda:InvokeFunction \\ --principal sns.amazonaws.com \\ --source-arn arn:aws:sns:ap-northeast-1:\u0026lt;ACCOUNT_ID\u0026gt;:WebEnglishAlerts \\ --region ap-northeast-1  âœ… 8. (TÃ¹y chá»n) Táº¡o Step Function cho Scale ECS Sá»­ dá»¥ng Step Functions Ä‘á»ƒ táº¡o luá»“ng cÃ´ng viá»‡c tá»± Ä‘á»™ng.\nFile scale-ecs-step.json { \u0026#34;Comment\u0026#34;: \u0026#34;Scale ECS when high CPU\u0026#34;, \u0026#34;StartAt\u0026#34;: \u0026#34;ScaleService\u0026#34;, \u0026#34;States\u0026#34;: { \u0026#34;ScaleService\u0026#34;: { \u0026#34;Type\u0026#34;: \u0026#34;Task\u0026#34;, \u0026#34;Resource\u0026#34;: \u0026#34;arn:aws:states:::aws-sdk:ecs:updateService\u0026#34;, \u0026#34;Parameters\u0026#34;: { \u0026#34;Cluster\u0026#34;: \u0026#34;MyCluster\u0026#34;, \u0026#34;Service\u0026#34;: \u0026#34;WebenglishService\u0026#34;, \u0026#34;DesiredCount\u0026#34;: 2 }, \u0026#34;End\u0026#34;: true } } } Táº¡o role cho Step Function aws iam create-role \\ --role-name StepFunctionExecutionRole \\ --assume-role-policy-document file://stepfunction-trust-policy.json aws iam attach-role-policy \\ --role-name StepFunctionExecutionRole \\ --policy-arn arn:aws:iam::aws:policy/AmazonECS_FullAccess Táº¡o State Machine aws stepfunctions create-state-machine \\ --name ScaleWebEnglishStepFunction \\ --definition file://scale-ecs-step.json \\ --role-arn arn:aws:iam::\u0026lt;ACCOUNT_ID\u0026gt;:role/StepFunctionExecutionRole \\ --type STANDARD \\ --region ap-northeast-1  âœ… 9. Kiá»ƒm Thá»­ Há»‡ Thá»‘ng    Má»¥c tiÃªu CÃ¡ch kiá»ƒm thá»­     TÄƒng CPU stress-ng hoáº·c endpoint Spring Boot   Log Lambda CloudWatch Logs â†’ /aws/lambda/ScaleWebEnglish   Scale ECS Console â†’ WebenglishService   Hoáº¡t Ä‘á»™ng SNS Gá»­i thá»­ message báº±ng CLI    ğŸ”¹ TÄƒng CPU (Ubuntu): sudo apt update \u0026amp;\u0026amp; sudo apt install stress-ng -y stress-ng --cpu 2 --timeout 300s ğŸ”¹ Hoáº·c endpoint Spring Boot: @GetMapping(\u0026#34;/load-cpu\u0026#34;) public String loadCpu() { while (true) { Math.pow(Math.random(), Math.random()); } } Gá»i endpoint:\ncurl http://your-ecs-app/load-cpu ğŸ”¹ Test SNS â†’ Lambda: aws sns publish \\ --topic-arn arn:aws:sns:ap-northeast-1:\u0026lt;ACCOUNT_ID\u0026gt;:WebEnglishAlerts \\ --message \u0026#39;{\u0026#34;test\u0026#34;: \u0026#34;SNS to Lambda\u0026#34;}\u0026#39; \\ --region ap-northeast-1  âœ… 10. Máº¹o Debug \u0026amp; Tá»‘i Æ¯u    ThÃ nh pháº§n LÆ°u Ã½     Lambda ThÃªm xá»­ lÃ½ exception rÃµ rÃ ng vÃ  log chi tiáº¿t.   IAM Role Chá»‰ cáº¥p quyá»n tá»‘i thiá»ƒu cáº§n thiáº¿t Ä‘á»ƒ tuÃ¢n thá»§ nguyÃªn táº¯c Least Privilege.   ECS CÃ¢n nháº¯c sá»­ dá»¥ng chÃ­nh sÃ¡ch Target Tracking Policy thay vÃ¬ Ä‘iá»u chá»‰nh thá»§ cÃ´ng trong Lambda.   Alarm Äiá»u chá»‰nh evaluation-periods há»£p lÃ½ Ä‘á»ƒ trÃ¡nh cáº£nh bÃ¡o giáº£.    ğŸ“Œ Test thá»§ cÃ´ng Lambda náº¿u cáº§n:\naws lambda invoke \\ --function-name ScaleWebEnglish \\ --payload \u0026#39;{}\u0026#39; \\ output.json \\ --region ap-northeast-1 "},{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/5-automated-response/","title":"Automated Response","tags":[],"description":"","content":"  ğŸš¨ Deploying a Professional Alerting \u0026amp; Incident Escalation System  Objective: A multi-level alerting system that automatically detects anomalies, sends notifications to the right people, and responds automatically if required.\n  ğŸ“Œ 1. Designing a 3-Level Alert Workflow    Level Name Recipient Response Time Tool     1 Technical Alert (DevOps) DevOps Team â‰¤ 15 minutes Email / SNS   2 Urgent Alert (On-call) On-call Dev â‰¤ 5 minutes SNS + Lambda   3 Manager Alert Senior Manager During office hours Email / SMS     ğŸ§ª 2. Create SNS Topics and Subscriptions 2.1 Create SNS Topics aws sns create-topic --name WebEnglishAlert-Level1 aws sns create-topic --name WebEnglishAlert-Level2 aws sns create-topic --name WebEnglishAlert-Level3 2.2 Subscribe Emails to Topics (must confirm) aws sns subscribe \\  --topic-arn arn:aws:sns:ap-northeast-1:\u0026lt;ACCOUNT_ID\u0026gt;:WebEnglishAlert-Level1 \\  --protocol email \\  --notification-endpoint devops@example.com aws sns subscribe \\  --topic-arn arn:aws:sns:ap-northeast-1:\u0026lt;ACCOUNT_ID\u0026gt;:WebEnglishAlert-Level3 \\  --protocol email \\  --notification-endpoint ceo@example.com  âœ… Check your email to confirm the subscription.   ğŸ“ˆ 3. Create CloudWatch Alarm - Level 1 aws cloudwatch put-metric-alarm \\  --alarm-name CPU-High-Level1 \\  --alarm-description \u0026#34;High CPU Alert - Level 1\u0026#34; \\  --metric-name cpu_usage_active \\  --namespace WebEnglishMetrics \\  --statistic Average \\  --period 300 \\  --evaluation-periods 1 \\  --threshold 80 \\  --comparison-operator GreaterThanThreshold \\  --actions-enabled \\  --alarm-actions arn:aws:sns:ap-northeast-1:\u0026lt;ACCOUNT_ID\u0026gt;:WebEnglishAlert-Level1  ğŸ›  4. Escalation Lambda 4.1 Create IAM Role for Lambda trust-policy.json\n{ \u0026#34;Version\u0026#34;: \u0026#34;2012-10-17\u0026#34;, \u0026#34;Statement\u0026#34;: [{ \u0026#34;Effect\u0026#34;: \u0026#34;Allow\u0026#34;, \u0026#34;Principal\u0026#34;: { \u0026#34;Service\u0026#34;: \u0026#34;lambda.amazonaws.com\u0026#34; }, \u0026#34;Action\u0026#34;: \u0026#34;sts:AssumeRole\u0026#34; }] } aws iam create-role \\  --role-name LambdaAlertEscalatorRole \\  --assume-role-policy-document file://trust-policy.json aws iam attach-role-policy \\  --role-name LambdaAlertEscalatorRole \\  --policy-arn arn:aws:iam::aws:policy/CloudWatchReadOnlyAccess aws iam attach-role-policy \\  --role-name LambdaAlertEscalatorRole \\  --policy-arn arn:aws:iam::aws:policy/AmazonSNSFullAccess  4.2 Lambda Code: alert_escalator.py import boto3 def lambda_handler(event, context): cloudwatch = boto3.client(\u0026#39;cloudwatch\u0026#39;) sns = boto3.client(\u0026#39;sns\u0026#39;) alarm_name = \u0026#34;CPU-High-Level1\u0026#34; response = cloudwatch.describe_alarms(AlarmNames=[alarm_name]) if response[\u0026#39;MetricAlarms\u0026#39;] and response[\u0026#39;MetricAlarms\u0026#39;][0][\u0026#39;StateValue\u0026#39;] == \u0026#34;ALARM\u0026#34;: sns.publish( TopicArn=\u0026#34;arn:aws:sns:ap-northeast-1:\u0026lt;ACCOUNT_ID\u0026gt;:WebEnglishAlert-Level2\u0026#34;, Subject=\u0026#34;ğŸš¨ Escalation Alert\u0026#34;, Message=f\u0026#34;Alarm {alarm_name}has not been handled. Escalating to Level 2.\u0026#34; )  4.3 Deploy Lambda Function zip function.zip alert_escalator.py aws lambda create-function \\  --function-name alertEscalator \\  --runtime python3.12 \\  --role arn:aws:iam::\u0026lt;ACCOUNT_ID\u0026gt;:role/LambdaAlertEscalatorRole \\  --handler alert_escalator.lambda_handler \\  --zip-file fileb://function.zip \\  --timeout 10  âœ… You can test it in AWS Console â†’ Lambda â†’ Test   ğŸ“ˆ 5. Create Alarm Triggering Lambda - Level 2 aws cloudwatch put-metric-alarm \\  --alarm-name CPU-High-Level2 \\  --alarm-description \u0026#34;CPU high alert escalation\u0026#34; \\  --metric-name cpu_usage_active \\  --namespace WebEnglishMetrics \\  --statistic Average \\  --period 600 \\  --evaluation-periods 2 \\  --threshold 80 \\  --comparison-operator GreaterThanThreshold \\  --actions-enabled \\  --alarm-actions arn:aws:lambda:ap-northeast-1:\u0026lt;ACCOUNT_ID\u0026gt;:function:alertEscalator  ğŸ” Escalation Overview    Level Alarm Condition Action     1 CPU-High-Level1 1 Ã— 5 min \u0026gt; 80% Send SNS Level 1 â†’ DevOps   2 CPU-High-Level2 2 Ã— 10 min \u0026gt; 80% Call Lambda â†’ send SNS Level 2 (notify on-call Dev)   3 (optional) No response in 30m Send SNS Level 3 â†’ senior management via email/SMS     ğŸ“Š 6. CloudWatch Anomaly Detection (Advanced Option) aws cloudwatch put-anomaly-detector \\  --namespace WebEnglishMetrics \\  --metric-name cpu_usage_active \\  --statistic Average \\  --dimensions Name=InstanceId,Value=i-xxxxxx  ğŸŒ€ 7. Step Functions (Optional Automated Response) Use to:\n Scale ECS Service Reboot EC2 Instance Trigger a sequence of actions when an incident is detected   ğŸ§ª 8. System Testing sudo yum install -y stress-ng stress-ng --cpu 4 --timeout 600s You can also push fake metrics to CloudWatch for testing:\naws cloudwatch put-metric-data \\  --metric-name cpu_usage_active \\  --namespace WebEnglishMetrics \\  --value 90 Check:\n Is SNS sending to the correct recipients? Was Lambda triggered? Was escalation executed? Were email confirmations completed?   ğŸ“˜ 9. Summary âœ… Multi-level alerting system works as expected:\n CloudWatch monitors \u0026amp; detects anomalies SNS routes alerts to the correct recipients Lambda responds if alerts are not handled Extendable with Step Functions, PagerDuty, EC2 auto recovery\u0026hellip;    ğŸ§© Advanced Suggestions  Use CloudFormation / CDK to define the entire infrastructure as code Log into CloudWatch Logs for escalation tracking Create a Dead Letter Queue for Lambda in case of failures  \r---\rNáº¿u báº¡n muá»‘n, mÃ¬nh cÃ³ thá»ƒ **Ä‘Æ°a toÃ n bá»™ báº£n tiáº¿ng Anh nÃ y thÃ nh file `.md`** Ä‘á»ƒ báº¡n thÃªm trá»±c tiáº¿p vÃ o há»‡ thá»‘ng Hugo hoáº·c GitBook. Báº¡n cÃ³ muá»‘n mÃ¬nh táº¡o file Ä‘Ã³ luÃ´n khÃ´ng?\r"},{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/7-dashboard/","title":"Dashboard Development","tags":[],"description":"","content":"ğŸ“Š Triá»ƒn Khai Dashboard vÃ  BÃ¡o CÃ¡o Trá»±c Quan Cho Dá»± Ãn WebEnglish TÃ i liá»‡u nÃ y cung cáº¥p quy trÃ¬nh chuyÃªn nghiá»‡p vÃ  chi tiáº¿t Ä‘á»ƒ thiáº¿t láº­p cÃ¡c báº£ng Ä‘iá»u khiá»ƒn (dashboards) vÃ  bÃ¡o cÃ¡o giÃ¡m sÃ¡t dá»¯ liá»‡u há»‡ thá»‘ng trong dá»± Ã¡n WebEnglish. Viá»‡c giÃ¡m sÃ¡t Ä‘Æ°á»£c thá»±c hiá»‡n báº±ng Amazon CloudWatch vÃ  Amazon QuickSight Ä‘á»ƒ cung cáº¥p kháº£ nÄƒng hiá»ƒn thá»‹ thá»i gian thá»±c cÅ©ng nhÆ° cÃ¡c phÃ¢n tÃ­ch chiáº¿n lÆ°á»£c giÃºp Ä‘á»™i DevOps pháº£n á»©ng nhanh chÃ³ng vá»›i sá»± cá»‘ sáº£n pháº©m.\n ğŸ¯ Má»¥c TiÃªu  Hiá»ƒn thá»‹ hiá»‡u suáº¥t há»‡ thá»‘ng EC2, container, á»©ng dá»¥ng Spring Boot, vÃ  MySQL. Cáº£nh bÃ¡o khi cÃ³ dáº¥u hiá»‡u báº¥t thÆ°á»ng dá»±a trÃªn hÃ nh vi (anomaly). Cung cáº¥p bÃ¡o cÃ¡o trá»±c quan Ä‘á»‹nh ká»³ cho DevOps vÃ  quáº£n lÃ½ cáº¥p cao.   ğŸ§­ BÆ°á»›c 1: Truy cáº­p CloudWatch Dashboard  VÃ o AWS Console â†’ TÃ¬m â€œCloudWatchâ€. VÃ o Dashboards â†’ Chá»n hoáº·c táº¡o dashboard má»›i.   ğŸ“Š BÆ°á»›c 2: ThÃªm metric biá»ƒu Ä‘á»“  Click â€œAdd widgetâ€ â†’ Chá»n Line â†’ Click Next. Trong pháº§n â€œBrowseâ€ chá»n:  Region: Tokyo (hoáº·c nÆ¡i instance Ä‘ang cháº¡y) Namespace: WebEnglishMetrics (theo báº¡n cáº¥u hÃ¬nh) Metric: cpu_usage_active     ğŸ“ˆ BÆ°á»›c 3: ThÃªm Anomaly Detection Band  Trong pháº§n Graphed metrics, click â€œAdd mathâ€ â†’ chá»n ANOMALY_DETECTION_BAND(m1, 2)  m1 lÃ  ID metric gá»‘c. 2 lÃ  Ä‘á»™ nháº¡y (sensitivity).     ğŸš¨ BÆ°á»›c 4: Táº¡o Alarm tá»« metric  VÃ o tab Actions â†’ Click â€œCreate Alarmâ€ Chá»n metric cpu_usage_active Chá»n kiá»ƒu thá»‘ng kÃª: Average Period: 5 minutes Conditions:  Threshold type: Anomaly detection Anomaly detection model: chá»n dÃ²ng ANOMALY_DETECTION_BAND(m1, 2)     âš™ï¸ BÆ°á»›c 5: Additional configuration    TÃ¹y chá»n Gá»£i Ã½ cáº¥u hÃ¬nh     Datapoints to alarm 3 out of 5   Missing data treatment Treat missing data as missing   Actions suppression Bá» qua náº¿u khÃ´ng dÃ¹ng rule khÃ¡c    ğŸ BÆ°á»›c 6: Äáº·t tÃªn \u0026amp; táº¡o Alarm  Äáº·t tÃªn bÃ¡o Ä‘á»™ng: vÃ­ dá»¥ HighCPUWithAnomalyDetection Chá»n SNS topic náº¿u muá»‘n gá»­i email Click Create Alarm   ğŸ§¾ Máº¹o Váº­n HÃ nh  â±ï¸ Giá»›i háº¡n thá»i gian giá»¯ logs: 7â€“14 ngÃ y Ä‘á»ƒ giáº£m chi phÃ­. ğŸ”” Cáº¥u hÃ¬nh gá»­i cáº£nh bÃ¡o qua SNS Topic tá»›i email hoáº·c Lambda handler. ğŸ§ª Káº¿t há»£p vá»›i AWS DevOps Guru Ä‘á»ƒ tá»± Ä‘á»™ng phÃ¡t hiá»‡n root cause.   ğŸ“š TÃ i Liá»‡u Tham Kháº£o  CloudWatch Dashboards Amazon QuickSight Getting Started Anomaly Detection  "},{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/8-operations/","title":"Operational Procedures","tags":[],"description":"","content":"âœ… Quy trÃ¬nh Váº­n hÃ nh \u0026amp; Tá»‘i Æ°u hÃ³a (Operational Procedures \u0026amp; Optimization) ğŸ”¹ 1. Thiáº¿t láº­p Runbook chuyÃªn sÃ¢u Runbook lÃ  tÃ i liá»‡u hÆ°á»›ng dáº«n chi tiáº¿t tá»«ng bÆ°á»›c xá»­ lÃ½ cho cÃ¡c ká»‹ch báº£n sá»± cá»‘ phá»• biáº¿n, bao gá»“m:\n   Ká»‹ch báº£n sá»± cá»‘ Dáº¥u hiá»‡u nháº­n biáº¿t NguyÃªn nhÃ¢n phá»• biáº¿n BÆ°á»›c xá»­ lÃ½ chi tiáº¿t NgÆ°á»i chá»‹u trÃ¡ch nhiá»‡m     CPU sá»­ dá»¥ng 100% Alarm CloudWatch â€œHighCPUUsageâ€ Load Ä‘á»™t biáº¿n tá»« ngÆ°á»i dÃ¹ng 1. XÃ¡c minh log á»©ng dá»¥ng 2. Kiá»ƒm tra container ECS Ä‘ang cháº¡y 3. Scale ECS service thÃªm 1 task DevOps Engineer   á»¨ng dá»¥ng khÃ´ng pháº£n há»“i Timeout tá»« client, alarm â€œTargetResponseTimeHighâ€ ECS service quÃ¡ táº£i hoáº·c lá»—i code 1. Kiá»ƒm tra log á»©ng dá»¥ng 2. Scale service thá»§ cÃ´ng náº¿u cáº§n 3. Thiáº¿t láº­p auto scaling alarm DevOps Engineer     ğŸ“ Vá»‹ trÃ­ lÆ°u trá»¯ Ä‘á» xuáº¥t: /runbook/webenglish/ecs-cpu-spike.md\n  ğŸ”¹ 2. TÃ­ch há»£p AWS DevOps Guru ğŸ§  Giá»›i thiá»‡u AWS DevOps Guru lÃ  dá»‹ch vá»¥ sá»­ dá»¥ng AI Ä‘á»ƒ phÃ¡t hiá»‡n báº¥t thÆ°á»ng vÃ  Ä‘á» xuáº¥t kháº¯c phá»¥c cho há»‡ thá»‘ng.\nğŸ¯ Lá»£i Ã­ch chÃ­nh  Tá»± Ä‘á»™ng phÃ¡t hiá»‡n sá»± cá»‘ mÃ  khÃ´ng cáº§n cáº¥u hÃ¬nh rule thá»§ cÃ´ng PhÃ¢n tÃ­ch log, metrics, trace Gá»£i Ã½ nguyÃªn nhÃ¢n vÃ  hÃ nh Ä‘á»™ng kháº¯c phá»¥c TÃ­ch há»£p SNS Ä‘á»ƒ gá»­i cáº£nh bÃ¡o Hiá»ƒn thá»‹ trá»±c quan qua báº£n Ä‘á»“ lá»—i (Anomaly Map)   ğŸ”¹ 3. Báº­t DevOps Guru cho há»‡ thá»‘ng ğŸ”§ CÃ¡c bÆ°á»›c triá»ƒn khai  Truy cáº­p AWS Console \u0026gt; DevOps Guru Chá»n Enable DevOps Guru Lá»±a chá»n pháº¡m vi:  Analyze all AWS resources (theo dÃµi toÃ n bá»™ tÃ i nguyÃªn) Hoáº·c chá»n CloudFormation Stack cá»¥ thá»ƒ   Cáº¥u hÃ¬nh SNS Topic Ä‘á»ƒ nháº­n cáº£nh bÃ¡o (táº¡o má»›i náº¿u chÆ°a cÃ³) Click Enable   â³ DevOps Guru sáº½ báº¯t Ä‘áº§u thu tháº­p dá»¯ liá»‡u vÃ  cung cáº¥p insight sau vÃ i phÃºt Ä‘áº¿n vÃ i giá».   ğŸ”¹ 4. Theo dÃµi \u0026amp; Nháº­n cáº£nh bÃ¡o ğŸ§¾ Ná»™i dung Insight bao gá»“m:  TÃªn tÃ i nguyÃªn bá»‹ áº£nh hÆ°á»Ÿng (ECS, RDS, Lambdaâ€¦) Thá»i Ä‘iá»ƒm xáº£y ra lá»—i Metrics báº¥t thÆ°á»ng Äá» xuáº¥t root cause Gá»£i Ã½ hÃ nh Ä‘á»™ng kháº¯c phá»¥c  ğŸ“© Thiáº¿t láº­p SNS Ä‘á»ƒ nháº­n cáº£nh bÃ¡o  Táº¡o SNS Topic: devops-guru-alerts ThÃªm subscriber: email, Lambda, webhookâ€¦   ğŸ”¹ 5. Káº¿t há»£p cÃ¡c dá»‹ch vá»¥ Ä‘á»ƒ tá»‘i Æ°u hÃ³a    CÃ´ng cá»¥ Má»¥c Ä‘Ã­ch sá»­ dá»¥ng     DevOps Guru PhÃ¡t hiá»‡n vÃ  phÃ¢n tÃ­ch sá»± cá»‘ tá»± Ä‘á»™ng   SNS Gá»­i cáº£nh bÃ¡o Ä‘áº¿n email, Slack, Lambda\u0026hellip;   CloudWatch Thu tháº­p metrics, log, váº½ biá»ƒu Ä‘á»“ giÃ¡m sÃ¡t   Notebook Truy váº¥n vÃ  phÃ¢n tÃ­ch tuá»³ chá»‰nh nÃ¢ng cao     ğŸ“Œ Gá»£i Ã½ nÃ¢ng cao  Triá»ƒn khai DevOps Guru Ä‘á»ƒ giáº£m thá»i gian Ä‘iá»u tra lá»—i Káº¿t há»£p Amazon QuickSight + SNS Ä‘á»ƒ gá»­i bÃ¡o cÃ¡o Ä‘á»‹nh ká»³ Tá»± Ä‘á»™ng hÃ³a xá»­ lÃ½ lá»—i báº±ng AWS Lambda hoáº·c Systems Manager   ğŸ“š TÃ i liá»‡u tham kháº£o  ğŸ”— AWS CloudWatch Log Insights ğŸ”— Auto Scaling ECS ğŸ”— AWS DevOps Guru ğŸ”— AWS Runbook Template  "},{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/11-cleanup/","title":"Clean up","tags":[],"description":"","content":"ChÃºng ta sáº½ tiáº¿n hÃ nh dá»n dáº¹p toÃ n bá»™ tÃ i nguyÃªn AWS Ä‘Ã£ táº¡o trong quÃ¡ trÃ¬nh thá»±c hÃ nh. HÃ£y thá»±c hiá»‡n theo cÃ¡c bÆ°á»›c sau Ä‘á»ƒ trÃ¡nh phÃ¡t sinh chi phÃ­.\n âœ… XÃ³a DevOps Guru  Truy cáº­p DevOps Guru Console á» menu trÃ¡i, chá»n Settings. Táº¡i má»¥c CloudFormation stacks, click Delete Ä‘á»‘i vá»›i stack DevOps Guru Ä‘Ã£ kÃ­ch hoáº¡t. XÃ¡c nháº­n xÃ³a náº¿u Ä‘Æ°á»£c yÃªu cáº§u.   âœ… XÃ³a CDK Stack báº±ng cdk destroy  Má»Ÿ terminal táº¡i thÆ° má»¥c chá»©a project CDK. Cháº¡y lá»‡nh sau Ä‘á»ƒ xÃ³a toÃ n bá»™ stack CDK: cdk destroy  Khi Ä‘Æ°á»£c há»i xÃ¡c nháº­n, nháº­p y vÃ  nháº¥n Enter. Chá» quÃ¡ trÃ¬nh há»§y stack hoÃ n táº¥t.    âœ… XÃ³a S3 Bucket  Truy cáº­p S3 Console Click chá»n cÃ¡c bucket báº¡n Ä‘Ã£ táº¡o (VD: cdk-bucket-*, log-bucket-*, â€¦). Thá»±c hiá»‡n láº§n lÆ°á»£t cÃ¡c bÆ°á»›c:  Click Empty â†’ GÃµ permanently delete â†’ Click Empty. Sau Ä‘Ã³, click Delete â†’ GÃµ tÃªn bucket â†’ Click Delete bucket.     âœ… XÃ³a CloudFormation Stack (náº¿u khÃ´ng dÃ¹ng CDK)  Truy cáº­p CloudFormation Console Chá»n cÃ¡c stack liÃªn quan Ä‘áº¿n bÃ i lab (VD: DevOpsGuruStack, CDKStack, â€¦). Click Delete vÃ  xÃ¡c nháº­n xÃ³a stack.   âœ… XÃ³a CloudWatch Logs / Alarms / Dashboards  Truy cáº­p CloudWatch Console  XÃ³a Log Groups:\n VÃ o Logs \u0026gt; Log groups Chá»n cÃ¡c log group (VD: /aws/lambda/..., /aws/events/...) Click Actions \u0026gt; Delete log groups  XÃ³a Alarms:\n VÃ o Alarms \u0026gt; All alarms Chá»n táº¥t cáº£ alarms â†’ Click Actions \u0026gt; Delete  XÃ³a Dashboards:\n VÃ o Dashboards Chá»n dashboard â†’ Click Actions \u0026gt; Delete    âœ… XÃ³a EC2 Instances  Truy cáº­p EC2 Console VÃ o Instances Chá»n cÃ¡c instance cáº§n xÃ³a â†’ Click Instance state \u0026gt; Terminate instance XÃ¡c nháº­n Terminate    âœ… XÃ³a VPC  Truy cáº­p VPC Console VÃ o Your VPCs Chá»n VPC báº¡n Ä‘Ã£ táº¡o â†’ Click Actions \u0026gt; Delete VPC XÃ¡c nháº­n xÃ³a   âœ… XÃ³a Subnet (náº¿u khÃ´ng tá»± Ä‘á»™ng xÃ³a cÃ¹ng VPC)  Trong VPC Console â†’ VÃ o má»¥c Subnets Chá»n cÃ¡c subnet (Public, Private) liÃªn quan â†’ Click Actions \u0026gt; Delete subnet    âœ… LÆ°u Ã½: Sau khi hoÃ n táº¥t dá»n dáº¹p, báº¡n cÃ³ thá»ƒ vÃ o Billing Dashboard Ä‘á»ƒ kiá»ƒm tra chi phÃ­ vÃ  Ä‘áº£m báº£o khÃ´ng cÃ³ tÃ i nguyÃªn nÃ o cÃ²n tá»“n táº¡i.\n  "},{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/categories/","title":"Categories","tags":[],"description":"","content":""},{"uri":"https://phungduydat.github.io/FCJ-Workshop/vi/tags/","title":"Tags","tags":[],"description":"","content":""}]